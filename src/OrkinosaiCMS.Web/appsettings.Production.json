{
  "_comment": "PRODUCTION CONFIGURATION: This file contains production-specific settings. Connection strings are configured for Azure SQL Database. DO NOT commit sensitive credentials to source control - use environment variables or Azure Key Vault for additional security.",
  "_deploymentNote": "Updated connection string for production Azure SQL Database deployment (2025-12-11). This connection string should be managed through Azure App Service Configuration or Key Vault in production environments for enhanced security.",
  "_securityWarning": "CRITICAL SECURITY: NEVER commit production database credentials to source control. The DefaultConnection string below is a PLACEHOLDER ONLY. You MUST configure the actual connection string in Azure Portal under Configuration > Connection strings. See docs/PRODUCTION_CONFIGURATION.md for step-by-step instructions.",
  "Logging": {
    "LogLevel": {
      "Default": "Warning",
      "Microsoft.AspNetCore": "Information"
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Error",
      "Override": {
        "Microsoft.AspNetCore": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz}] [{Level:u3}] [{SourceContext}] {Message:lj}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ]
  },
  "AllowedHosts": "*",
  "DatabaseEnabled": true,
  "DatabaseProvider": "SqlServer",
  "Database": {
    "AutoApplyMigrations": true,
    "_autoApplyMigrationsNote": "For production with strict change control, set Database__AutoApplyMigrations=false via environment variable and apply migrations manually during deployment."
  },
  "ConnectionStrings": {
    "_comment": "CRITICAL SECURITY: Do NOT put production credentials here. Configure connection string in Azure Portal under Configuration > Connection strings.",
    "_azureInstructions": "Azure Portal > App Service > Configuration > Connection strings > Add: Name='DefaultConnection', Value='<your-azure-sql-connection-string>', Type='SQLServer'",
    "_localDevInstructions": "For local development, override in appsettings.Development.json or use User Secrets (dotnet user-secrets set 'ConnectionStrings:DefaultConnection' '<connection-string>')",
    "DefaultConnection": "Server=AZURE_SQL_SERVER;Database=AZURE_SQL_DATABASE;User ID=AZURE_SQL_USER;Password=AZURE_SQL_PASSWORD;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30"
  },
  "CMS": {
    "SiteName": "Mosaic CMS",
    "DefaultTheme": "Default",
    "EnableModuleDiscovery": false,
    "AllowRegistration": false
  },
  "Authentication": {
    "_comment": "Production OAuth credentials MUST be set via Azure App Service Configuration or Environment Variables for security. NEVER commit production credentials to source control.",
    "Google": {
      "ClientId": "",
      "ClientSecret": ""
    }
  },
  "ErrorHandling": {
    "ShowDetailedErrors": false,
    "IncludeStackTrace": false
  }
}
