{
  "_comment": "SECURITY WARNING: Do not commit sensitive credentials to source control in production. Use environment variables or Azure Key Vault for production deployments.",
  "_devCredentials": "NOTE: The credentials in this file are for DEVELOPMENT/TEST ONLY and should NEVER be used in production. They provide access to a shared development database.",
  "_connectionStringsOverride": "To override connection strings in cloud deployments, set environment variable: ConnectionStrings__DefaultConnection=<your-connection-string>. In Azure App Service, use Configuration > Connection Strings. See docs/appsettings.md for details.",
  "Logging": {
    "LogLevel": {
      "Default": "Warning",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Serilog": {
    "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.File" ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft.AspNetCore": "Information",
        "Microsoft.EntityFrameworkCore": "Information",
        "Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware": "Information",
        "Microsoft.AspNetCore.Antiforgery": "Information",
        "Microsoft.AspNetCore.Routing": "Information",
        "Microsoft.AspNetCore.Mvc": "Information"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz}] [{Level:u3}] [{SourceContext}] {Message:lj}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "App_Data/Logs/mosaic-backend-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 7,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz}] [{Level:u3}] [{MachineName}] [{ThreadId}] [{SourceContext}] {Message:lj}{NewLine}{Exception}",
          "fileSizeLimitBytes": 10485760,
          "rollOnFileSizeLimit": true
        }
      }
    ],
    "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ],
    "Properties": {
      "Application": "MosaicCMS"
    }
  },
  "AllowedHosts": "*",
  "DatabaseEnabled": true,
  "DatabaseProvider": "SqlServer",
  "Database": {
    "AutoApplyMigrations": true,
    "_autoApplyMigrationsNote": "When true, migrations are automatically applied on startup. When false, migrations must be applied manually. For production deployments with strict change control, set to false and apply migrations during deployment pipeline."
  },
  "ConnectionStrings": {
    "_connectionPoolingNote": "Connection pool settings are automatically applied in Program.cs if not present. Default values: Max Pool Size=100, Min Pool Size=5, Pooling=true, Command Timeout=30. These prevent HTTP 503 errors caused by connection pool exhaustion.",
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=MosaicCMS;Trusted_Connection=True;TrustServerCertificate=True;MultipleActiveResultSets=True;Max Pool Size=100;Min Pool Size=5;Pooling=true",
    "SqliteConnection": "Data Source=mosaic-cms.db"
  },
  "CMS": {
    "SiteName": "Mosaic CMS",
    "DefaultTheme": "Default",
    "EnableModuleDiscovery": true,
    "AllowRegistration": false
  },
  "AzureOpenAI": {
    "Endpoint": "https://your-resource-name.openai.azure.com/",
    "ApiKey": "your-api-key-here",
    "DeploymentName": "gpt-4o",
    "ApiVersion": "2024-08-01-preview",
    "MaxTokens": 800,
    "Temperature": 0.7,
    "TopP": 0.95,
    "FrequencyPenalty": 0,
    "PresencePenalty": 0
  },
  "PythonBackend": {
    "Enabled": true,
    "Port": 8000,
    "Host": "0.0.0.0",
    "Workers": 2,
    "Timeout": 120,
    "LogDirectory": "/home/LogFiles",
    "ConfigPath": "appsettings.json"
  },
  "Zoota": {
    "Name": "Zoota AI Assistant",
    "Version": "2.0.0",
    "WelcomeMessage": "Hi! I'm Zoota ðŸ‘‹ Your AI assistant for managing Mosaic CMS! I can help you create pages, manage content, and navigate your CMS with simple conversational commands.",
    "SystemPrompt": "You are Zoota, an AI-powered administrative assistant for Mosaic Conversational CMS. You help administrators manage their CMS through conversational commands. Mosaic CMS is a modular Content Management System built on .NET 10 and Blazor, designed for multi-tenant SaaS platforms.\n\nYour capabilities include:\n- Creating, updating, and deleting pages\n- Managing content items\n- Listing and searching CMS assets\n- Providing help and documentation\n- Answering questions about CMS features\n\nWhen users ask you to perform CMS operations (like 'create a page', 'delete content', 'list users'), acknowledge their request and explain what needs to be done. Since you are a conversational assistant, you guide users through the available admin panel features rather than directly executing commands.\n\nBe helpful, professional, and friendly. Always provide specific, detailed answers. You support both English and Turkish - respond in the language the user is using.",
    "KnowledgeBase": {
      "CompanyName": "Mosaic Conversational CMS",
      "Website": "https://github.com/orkinosai25-org/mosaic",
      "Services": [
        "Modular CMS Architecture",
        "Blazor Server Components",
        ".NET 10 Framework",
        "Entity Framework Core",
        "Multi-Tenant SaaS Platform",
        "Master Pages & Web Parts"
      ],
      "Expertise": [
        ".NET 10 Development",
        "Blazor Development",
        "Content Management Systems",
        "Modular Architecture",
        "Clean Architecture Patterns",
        "Multi-Tenant SaaS"
      ]
    }
  },
  "Payment": {
    "Stripe": {
      "PublishableKey": "",
      "SecretKey": "",
      "WebhookSecret": "",
      "ApiVersion": "2024-11-20.acacia",
      "Currency": "usd",
      "EnableTestMode": true,
      "PriceIds": {
        "Starter_Monthly": "",
        "Starter_Yearly": "",
        "Pro_Monthly": "",
        "Pro_Yearly": "",
        "Business_Monthly": "",
        "Business_Yearly": ""
      }
    }
  },
  "Authentication": {
    "_comment": "Configure OAuth providers for production. These values should be set via environment variables or Azure Key Vault in production.",
    "_instructions": "To enable Google OAuth: 1) Create OAuth 2.0 credentials at https://console.cloud.google.com/apis/credentials, 2) Set ClientId and ClientSecret below or via environment variables (Authentication__Google__ClientId and Authentication__Google__ClientSecret), 3) Uncomment the AddGoogle configuration in Program.cs",
    "Google": {
      "ClientId": "",
      "ClientSecret": "",
      "_note": "Leave empty to disable Google OAuth. When empty, the application allows anonymous access by default."
    },
    "Jwt": {
      "_comment": "JWT Bearer authentication for API clients, mobile apps, and external integrations (following Oqtane's pattern)",
      "_securityWarning": "CRITICAL: SecretKey must be at least 32 characters. In production, set via environment variable (Authentication__Jwt__SecretKey) or Azure Key Vault.",
      "SecretKey": "your-super-secret-jwt-key-min-32-chars-change-in-production",
      "Issuer": "OrkinosaiCMS",
      "Audience": "OrkinosaiCMS.API",
      "ExpirationMinutes": 480,
      "RefreshTokenExpirationDays": 30,
      "_note": "Cookie auth is used for Blazor admin portal. JWT auth is used for API clients, mobile apps, and external integrations."
    }
  },
  "ErrorHandling": {
    "ShowDetailedErrors": false,
    "IncludeStackTrace": false
  },
  "DefaultAdminPassword": "Admin@123",
  "_DefaultAdminPasswordNote": "SECURITY WARNING: In production, set this via environment variable (DefaultAdminPassword=YourSecurePassword) instead of storing in appsettings.json. This password is used to create the default admin user on first database initialization."
}
